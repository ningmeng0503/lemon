import{K as S,s as N,aE as V,aI as k,a2 as R,m as v,a5 as P,R as $,S as a,ab as T,a6 as t,o as I,Z as s,b as h,M as q,Y as M,k as U,X as B}from"./vue.1659414232212.js";import{_ as z,a1 as E,a2 as b,u as L,a3 as A,r as K,e as C,a4 as D,S as O,a5 as X,a6 as j,X as J}from"./index.1659414232212.js";const Y=S({name:"loginAccount",setup(){const{t:e}=E(),o=b.getRememberMeInfo()||{},w=L(),{proxy:F}=U(),{themeConfig:y}=N(w),i=V(),d=k(),n=R({isShowPassword:!1,ruleForm:{loginType:A.ACCOUNT,userName:(o==null?void 0:o.username)||"admin",password:(o==null?void 0:o.password)||"zhaohaha",code:"1234",uuid:"",rememberMe:(o==null?void 0:o.rememberMe)||!1},loading:{signIn:!1},rules:{userName:[{required:!0,message:e("message.account.accountPlaceholder1"),trigger:"blur"}],password:[{required:!0,message:e("message.account.accountPlaceholder2"),trigger:"blur"}],code:[{required:!0,message:e("message.account.accountPlaceholder3"),trigger:"blur"}]}}),m=v(()=>K(new Date)),u=()=>{F.$refs.accountLoginFormRef.validate(l=>{l&&_()})},_=async()=>{if(n.loading.signIn=!0,n.ruleForm.userName!=="admin"||n.ruleForm.password!=="zhaohaha"){C.error("\u7528\u6237\u540D\u6216\u5BC6\u7801\u9519\u8BEF\uFF01"),n.loading.signIn=!1;return}D(Math.random().toString(36).substr(0)),O.setLocal("userName",n.ruleForm.userName),y.value.isRequestRoutes?(await j(),p()):(await X(),p())},p=()=>{var c,g,f,r;n.ruleForm.rememberMe?b.setRememberMeInfo({username:n.ruleForm.userName,password:n.ruleForm.password,rememberMe:n.ruleForm.rememberMe},30):b.removeRememberMeInfo();let l=m.value;(c=i.query)!=null&&c.redirect?d.push({path:(g=i.query)==null?void 0:g.redirect,query:Object.keys((f=i.query)==null?void 0:f.params).length>0?JSON.parse((r=i.query)==null?void 0:r.params):""}):d.push("/"),n.loading.signIn=!1,C.success(`${l}\uFF0C${e("message.signInText")}`),J.start()};return{onSubmit:u,...P(n)}}}),Z=B("1234"),x={class:"login-animation3"};function G(e,o,w,F,y,i){const d=t("ele-User"),n=t("el-icon"),m=t("el-input"),u=t("el-form-item"),_=t("ele-Unlock"),p=t("ele-Position"),l=t("el-col"),c=t("el-button"),g=t("el-checkbox"),f=t("el-form");return I(),$(f,{rules:e.rules,size:"large",class:"login-content-form",model:e.ruleForm,ref:"accountLoginFormRef",onKeyup:T(e.onSubmit,["enter"])},{default:a(()=>[s(u,{class:"login-animation1",prop:"userName"},{default:a(()=>[s(m,{type:"text",placeholder:e.$t("message.account.accountPlaceholder1"),modelValue:e.ruleForm.userName,"onUpdate:modelValue":o[0]||(o[0]=r=>e.ruleForm.userName=r),clearable:"",autocomplete:"off"},{prefix:a(()=>[s(n,{class:"el-input__icon"},{default:a(()=>[s(d)]),_:1})]),_:1},8,["placeholder","modelValue"])]),_:1}),s(u,{class:"login-animation2",prop:"password"},{default:a(()=>[s(m,{type:e.isShowPassword?"text":"password",placeholder:e.$t("message.account.accountPlaceholder2"),modelValue:e.ruleForm.password,"onUpdate:modelValue":o[2]||(o[2]=r=>e.ruleForm.password=r),autocomplete:"off"},{prefix:a(()=>[s(n,{class:"el-input__icon"},{default:a(()=>[s(_)]),_:1})]),suffix:a(()=>[h("i",{class:q(["iconfont el-input__icon login-content-password",e.isShowPassword?"icon-yincangmima":"icon-xianshimima"]),onClick:o[1]||(o[1]=r=>e.isShowPassword=!e.isShowPassword)},null,2)]),_:1},8,["type","placeholder","modelValue"])]),_:1}),s(u,{class:"login-animation3",prop:"code"},{default:a(()=>[s(l,{span:15},{default:a(()=>[s(m,{type:"text",maxlength:"4",placeholder:e.$t("message.account.accountPlaceholder3"),modelValue:e.ruleForm.code,"onUpdate:modelValue":o[3]||(o[3]=r=>e.ruleForm.code=r),clearable:"",autocomplete:"off"},{prefix:a(()=>[s(n,{class:"el-input__icon"},{default:a(()=>[s(p)]),_:1})]),_:1},8,["placeholder","modelValue"])]),_:1}),s(l,{span:1}),s(l,{span:8},{default:a(()=>[s(c,{class:"login-content-code"},{default:a(()=>[Z]),_:1})]),_:1})]),_:1}),h("div",x,[s(g,{modelValue:e.ruleForm.rememberMe,"onUpdate:modelValue":o[4]||(o[4]=r=>e.ruleForm.rememberMe=r),class:"login-remember-me",label:e.$t("message.rememberMe"),size:"default"},null,8,["modelValue","label"])]),s(u,{class:"login-animation4"},{default:a(()=>[s(c,{type:"primary",class:"login-content-submit",round:"",onClick:e.onSubmit,loading:e.loading.signIn},{default:a(()=>[h("span",null,M(e.$t("message.account.accountBtnText")),1)]),_:1},8,["onClick","loading"])]),_:1})]),_:1},8,["rules","model","onKeyup"])}var W=z(Y,[["render",G],["__scopeId","data-v-a7ca136a"]]);export{W as default};
