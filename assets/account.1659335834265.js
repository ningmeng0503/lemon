import{K as C,s as S,aE as V,aI as k,a2 as N,m as R,a5 as v,R as P,S as a,ab as $,a6 as l,o as T,Z as s,b,M as I,Y as q,k as M,X as U}from"./vue.1659335834265.js";import{_ as B,a2 as A,a3 as h,u as E,a4 as K,t as L,S as z,h as O,a5 as D,a6 as Y,e as j,Y as J}from"./index.1659335834265.js";const X=C({name:"loginAccount",setup(){const{t:e}=A(),o=h.getRememberMeInfo()||{},w=E(),{proxy:y}=M(),{themeConfig:F}=S(w),i=V(),d=k(),n=N({isShowPassword:!1,ruleForm:{loginType:K.ACCOUNT,userName:(o==null?void 0:o.username)||"",password:(o==null?void 0:o.password)||"",code:"",uuid:"",rememberMe:(o==null?void 0:o.rememberMe)||!1},loading:{signIn:!1},rules:{userName:[{required:!0,message:e("message.account.accountPlaceholder1"),trigger:"blur"}],password:[{required:!0,message:e("message.account.accountPlaceholder2"),trigger:"blur"}],code:[{required:!0,message:e("message.account.accountPlaceholder3"),trigger:"blur"}]}}),m=R(()=>L(new Date)),u=()=>{y.$refs.accountLoginFormRef.validate(r=>{r&&_()})},_=async()=>{n.loading.signIn=!0,z.set("token",Math.random().toString(36).substr(0)),O.set("userName",n.ruleForm.userName),F.value.isRequestRoutes?(await Y(),p()):(await D(),p())},p=()=>{var c,g,f,t;n.ruleForm.rememberMe?h.setRememberMeInfo({username:n.ruleForm.userName,password:n.ruleForm.password,rememberMe:n.ruleForm.rememberMe},30):h.removeRememberMeInfo();let r=m.value;(c=i.query)!=null&&c.redirect?d.push({path:(g=i.query)==null?void 0:g.redirect,query:Object.keys((f=i.query)==null?void 0:f.params).length>0?JSON.parse((t=i.query)==null?void 0:t.params):""}):d.push("/"),n.loading.signIn=!1,j.success(`${r}\uFF0C${e("message.signInText")}`),J.start()};return{onSubmit:u,...v(n)}}}),Z=U("1234"),x={class:"login-animation3"};function G(e,o,w,y,F,i){const d=l("ele-User"),n=l("el-icon"),m=l("el-input"),u=l("el-form-item"),_=l("ele-Unlock"),p=l("ele-Position"),r=l("el-col"),c=l("el-button"),g=l("el-checkbox"),f=l("el-form");return T(),P(f,{rules:e.rules,size:"large",class:"login-content-form",model:e.ruleForm,ref:"accountLoginFormRef",onKeyup:$(e.onSubmit,["enter"])},{default:a(()=>[s(u,{class:"login-animation1",prop:"userName"},{default:a(()=>[s(m,{type:"text",placeholder:e.$t("message.account.accountPlaceholder1"),modelValue:e.ruleForm.userName,"onUpdate:modelValue":o[0]||(o[0]=t=>e.ruleForm.userName=t),clearable:"",autocomplete:"off"},{prefix:a(()=>[s(n,{class:"el-input__icon"},{default:a(()=>[s(d)]),_:1})]),_:1},8,["placeholder","modelValue"])]),_:1}),s(u,{class:"login-animation2",prop:"password"},{default:a(()=>[s(m,{type:e.isShowPassword?"text":"password",placeholder:e.$t("message.account.accountPlaceholder2"),modelValue:e.ruleForm.password,"onUpdate:modelValue":o[2]||(o[2]=t=>e.ruleForm.password=t),autocomplete:"off"},{prefix:a(()=>[s(n,{class:"el-input__icon"},{default:a(()=>[s(_)]),_:1})]),suffix:a(()=>[b("i",{class:I(["iconfont el-input__icon login-content-password",e.isShowPassword?"icon-yincangmima":"icon-xianshimima"]),onClick:o[1]||(o[1]=t=>e.isShowPassword=!e.isShowPassword)},null,2)]),_:1},8,["type","placeholder","modelValue"])]),_:1}),s(u,{class:"login-animation3",prop:"code"},{default:a(()=>[s(r,{span:15},{default:a(()=>[s(m,{type:"text",maxlength:"4",placeholder:e.$t("message.account.accountPlaceholder3"),modelValue:e.ruleForm.code,"onUpdate:modelValue":o[3]||(o[3]=t=>e.ruleForm.code=t),clearable:"",autocomplete:"off"},{prefix:a(()=>[s(n,{class:"el-input__icon"},{default:a(()=>[s(p)]),_:1})]),_:1},8,["placeholder","modelValue"])]),_:1}),s(r,{span:1}),s(r,{span:8},{default:a(()=>[s(c,{class:"login-content-code"},{default:a(()=>[Z]),_:1})]),_:1})]),_:1}),b("div",x,[s(g,{modelValue:e.ruleForm.rememberMe,"onUpdate:modelValue":o[4]||(o[4]=t=>e.ruleForm.rememberMe=t),class:"login-remember-me",label:e.$t("message.rememberMe"),size:"default"},null,8,["modelValue","label"])]),s(u,{class:"login-animation4"},{default:a(()=>[s(c,{type:"primary",class:"login-content-submit",round:"",onClick:e.onSubmit,loading:e.loading.signIn},{default:a(()=>[b("span",null,q(e.$t("message.account.accountBtnText")),1)]),_:1},8,["onClick","loading"])]),_:1})]),_:1},8,["rules","model","onKeyup"])}var W=B(X,[["render",G],["__scopeId","data-v-6c98058b"]]);export{W as default};
