import{K as S,s as N,aE as V,aI as k,a2 as R,m as v,a5 as P,R as $,S as a,ab as I,a6 as r,o as T,Z as s,b,M as q,Y as M,k as U,X as B}from"./vue.1659336560720.js";import{_ as E,a2 as A,a3 as w,u as K,a4 as L,t as z,e as C,S as D,h as O,a5 as Y,a6 as j,Y as J}from"./index.1659336560720.js";const X=S({name:"loginAccount",setup(){const{t:e}=A(),o=w.getRememberMeInfo()||{},h=K(),{proxy:y}=U(),{themeConfig:F}=N(h),i=V(),d=k(),n=R({isShowPassword:!1,ruleForm:{loginType:L.ACCOUNT,userName:(o==null?void 0:o.username)||"admin",password:(o==null?void 0:o.password)||"1234",code:"1234",uuid:"",rememberMe:(o==null?void 0:o.rememberMe)||!1},loading:{signIn:!1},rules:{userName:[{required:!0,message:e("message.account.accountPlaceholder1"),trigger:"blur"}],password:[{required:!0,message:e("message.account.accountPlaceholder2"),trigger:"blur"}],code:[{required:!0,message:e("message.account.accountPlaceholder3"),trigger:"blur"}]}}),m=v(()=>z(new Date)),u=()=>{y.$refs.accountLoginFormRef.validate(l=>{l&&_()})},_=async()=>{if(n.loading.signIn=!0,n.ruleForm.userName!=="admin"||n.ruleForm.password!=="1234"){n.loading.signIn=!1,C.error("\u7528\u6237\u540D\u6216\u5BC6\u7801\u9519\u8BEF");return}D.set("token",Math.random().toString(36).substr(0)),O.set("userName",n.ruleForm.userName),F.value.isRequestRoutes?(await j(),p()):(await Y(),p())},p=()=>{var c,g,f,t;n.ruleForm.rememberMe?w.setRememberMeInfo({username:n.ruleForm.userName,password:n.ruleForm.password,rememberMe:n.ruleForm.rememberMe},30):w.removeRememberMeInfo();let l=m.value;(c=i.query)!=null&&c.redirect?d.push({path:(g=i.query)==null?void 0:g.redirect,query:Object.keys((f=i.query)==null?void 0:f.params).length>0?JSON.parse((t=i.query)==null?void 0:t.params):""}):d.push("/"),n.loading.signIn=!1,C.success(`${l}\uFF0C${e("message.signInText")}`),J.start()};return{onSubmit:u,...P(n)}}}),Z=B("1234"),x={class:"login-animation3"};function G(e,o,h,y,F,i){const d=r("ele-User"),n=r("el-icon"),m=r("el-input"),u=r("el-form-item"),_=r("ele-Unlock"),p=r("ele-Position"),l=r("el-col"),c=r("el-button"),g=r("el-checkbox"),f=r("el-form");return T(),$(f,{rules:e.rules,size:"large",class:"login-content-form",model:e.ruleForm,ref:"accountLoginFormRef",onKeyup:I(e.onSubmit,["enter"])},{default:a(()=>[s(u,{class:"login-animation1",prop:"userName"},{default:a(()=>[s(m,{type:"text",placeholder:e.$t("message.account.accountPlaceholder1"),modelValue:e.ruleForm.userName,"onUpdate:modelValue":o[0]||(o[0]=t=>e.ruleForm.userName=t),clearable:"",autocomplete:"off"},{prefix:a(()=>[s(n,{class:"el-input__icon"},{default:a(()=>[s(d)]),_:1})]),_:1},8,["placeholder","modelValue"])]),_:1}),s(u,{class:"login-animation2",prop:"password"},{default:a(()=>[s(m,{type:e.isShowPassword?"text":"password",placeholder:e.$t("message.account.accountPlaceholder2"),modelValue:e.ruleForm.password,"onUpdate:modelValue":o[2]||(o[2]=t=>e.ruleForm.password=t),autocomplete:"off"},{prefix:a(()=>[s(n,{class:"el-input__icon"},{default:a(()=>[s(_)]),_:1})]),suffix:a(()=>[b("i",{class:q(["iconfont el-input__icon login-content-password",e.isShowPassword?"icon-yincangmima":"icon-xianshimima"]),onClick:o[1]||(o[1]=t=>e.isShowPassword=!e.isShowPassword)},null,2)]),_:1},8,["type","placeholder","modelValue"])]),_:1}),s(u,{class:"login-animation3",prop:"code"},{default:a(()=>[s(l,{span:15},{default:a(()=>[s(m,{type:"text",maxlength:"4",placeholder:e.$t("message.account.accountPlaceholder3"),modelValue:e.ruleForm.code,"onUpdate:modelValue":o[3]||(o[3]=t=>e.ruleForm.code=t),clearable:"",autocomplete:"off"},{prefix:a(()=>[s(n,{class:"el-input__icon"},{default:a(()=>[s(p)]),_:1})]),_:1},8,["placeholder","modelValue"])]),_:1}),s(l,{span:1}),s(l,{span:8},{default:a(()=>[s(c,{class:"login-content-code"},{default:a(()=>[Z]),_:1})]),_:1})]),_:1}),b("div",x,[s(g,{modelValue:e.ruleForm.rememberMe,"onUpdate:modelValue":o[4]||(o[4]=t=>e.ruleForm.rememberMe=t),class:"login-remember-me",label:e.$t("message.rememberMe"),size:"default"},null,8,["modelValue","label"])]),s(u,{class:"login-animation4"},{default:a(()=>[s(c,{type:"primary",class:"login-content-submit",round:"",onClick:e.onSubmit,loading:e.loading.signIn},{default:a(()=>[b("span",null,M(e.$t("message.account.accountBtnText")),1)]),_:1},8,["onClick","loading"])]),_:1})]),_:1},8,["rules","model","onKeyup"])}var W=E(X,[["render",G],["__scopeId","data-v-51c76834"]]);export{W as default};
